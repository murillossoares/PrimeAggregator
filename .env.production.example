# PrimeAggregator - production example (no secrets)
# Copy to `.env.production` and fill required values.

# Required
SOLANA_RPC_URL=
SOLANA_WS_URL=
SOLANA_COMMITMENT=processed
WALLET_SECRET_KEY=

# Bot
MODE=live
BOT_PROFILE=hft
CONFIG_PATH=/app/config.json
POLL_INTERVAL_MS=200

# Execution (defaults; overridden per-service in docker-compose.prod.yml)
EXECUTION_STRATEGY=atomic
TRIGGER_STRATEGY=immediate
TRIGGER_OBSERVE_MS=30000
TRIGGER_OBSERVE_INTERVAL_MS=1000
TRIGGER_EXECUTE_MS=10000
TRIGGER_EXECUTE_INTERVAL_MS=500
TRIGGER_BOLLINGER_K=1.5
TRIGGER_EMA_ALPHA=0
TRIGGER_BOLLINGER_MIN_SAMPLES=10
TRIGGER_MOMENTUM_LOOKBACK=2
TRIGGER_TRAIL_DROP_BPS=1
TRIGGER_EMERGENCY_SIGMA=0
TRIGGER_AMOUNT_MODE=fixed
TRIGGER_MAX_AMOUNTS_PER_TICK=1

# Safety
LIVE_PREFLIGHT_SIMULATE=true
# Recomenda-se: `amountA` + buffer de fees/rent (ex: se `amountA=50000000` (~0.05 SOL), use >= `60000000`).
MIN_BALANCE_LAMPORTS=60000000
MAX_CONSECUTIVE_ERRORS_BEFORE_EXIT=25
MAX_ERRORS_BEFORE_EXIT=0
AUTO_SETUP_WALLET=false

# Dry-run (keep off in production)
DRY_RUN_BUILD=false
DRY_RUN_SIMULATE=false
DRY_RUN_INCLUDE_JITO_TIP=false

# Priority fees (optional; recommended when not using Jito)
PRIORITY_FEE_STRATEGY=helius
PRIORITY_FEE_LEVEL=recommended
PRIORITY_FEE_REFRESH_MS=1000
PRIORITY_FEE_MAX_MICRO_LAMPORTS=50000000
PRIORITY_FEE_TARGET_ACCOUNT_LIMIT=16
PRIORITY_FEE_WITH_JITO=false
HELIUS_API_KEY=
HELIUS_RPC_URL=https://mainnet.helius-rpc.com

# Logging
LOG_PATH=/app/logs/events.jsonl
LOG_VERBOSE=false
LOG_ROTATE_MAX_BYTES=10485760
LOG_ROTATE_MAX_FILES=5

# Fees/cost estimates
BASE_FEE_LAMPORTS=5000
RENT_BUFFER_LAMPORTS=0
COMPUTE_UNIT_LIMIT=1400000
COMPUTE_UNIT_PRICE_MICRO_LAMPORTS=0

# Cache
QUOTE_CACHE_TTL_MS=250
LUT_CACHE_TTL_MS=60000

# Concurrency
PAIR_CONCURRENCY=4

# Jito (recommended for `jupiter-atomic`; overridden in docker-compose.prod.yml)
JITO_ENABLED=false
JITO_BLOCK_ENGINE_URL=https://amsterdam.mainnet.block-engine.jito.wtf
JITO_TIP_LAMPORTS=10000
JITO_TIP_MODE=dynamic
JITO_MIN_TIP_LAMPORTS=5000
JITO_MAX_TIP_LAMPORTS=50000
JITO_TIP_BPS=2000
JITO_WAIT_MS=0
JITO_FALLBACK_RPC=false
JITO_TIP_ACCOUNT=

# Jupiter
JUP_SWAP_BASE_URL=https://api.jup.ag
JUP_ULTRA_BASE_URL=https://api.jup.ag
JUP_API_KEY=
JUP_USE_ULTRA=false
JUP_MIN_INTERVAL_MS=150
JUP_BACKOFF_MAX_ATTEMPTS=4
JUP_BACKOFF_BASE_MS=250
JUP_BACKOFF_MAX_MS=5000

# OpenOcean (Titan via dexId=10; overridden in docker-compose.prod.yml)
OPENOCEAN_ENABLED=false
OPENOCEAN_BASE_URL=https://open-api.openocean.finance/v4/solana
OPENOCEAN_API_KEY=
OPENOCEAN_GAS_PRICE=5
OPENOCEAN_MIN_INTERVAL_MS=1200
OPENOCEAN_SIGNATURES_ESTIMATE=3
OPENOCEAN_ENABLED_DEX_IDS=10
OPENOCEAN_DISABLED_DEX_IDS=
OPENOCEAN_REFERRER=
OPENOCEAN_REFERRER_FEE=
OPENOCEAN_OBSERVE_ENABLED=false
OPENOCEAN_EXECUTE_ENABLED=true
OPENOCEAN_EVERY_N_TICKS=2
OPENOCEAN_JUPITER_GATE_BPS=-50

# Optional hybrid mode: use Rust decision engine (requires building `rust/arb_calc`)
USE_RUST_CALC=false
RUST_CALC_PATH=./target/release/arb_calc
